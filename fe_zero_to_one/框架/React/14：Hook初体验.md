# Hook

## 类组件与函数式组件的比较

### **在Hook出现前**

| 类组件                                                       | 函数式组件                                                   |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| class组件可以定义自己的state，用来保存组件自己内部的状态；   | 函数式组件不可以，因为函数每次调用都会产生新的临时变量；     |
| class组件有自己的生命周期，我们可以在对应的生命周期中完成自己的逻辑； | 函数中发送网络请求，意味着每次重新渲染都会重新发送一次网络请求； |
| class组件可以在状态改变时只会重新执行render函数              | 函数式组件在重新渲染时，整个函数都会被执行                   |



**在Hook出现前、很明显通常用类组件**





### **类组件的问题**

- 随着业务增多、类组件很明显不好拆分、彼此的状态依赖复杂
- 对this的掌握有要求
- 组件复用状态很难



### Hook出现后

上面那些问题都可以解决

Hook只能在函数组件中使用，不能在类组件，或者函数组件之外的地方使用；



## Hook的简单案例

```jsx
// 计数器
import React, { useState } from 'react'

export default function App() {
  const [count, setCount] = useState(0)
  return (
    <div>
      <h1>当前计数：{count}</h1>
      <button onClick={e => setCount(count + 1)}>加一</button>
    </div>
  )
}
```

